{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { getCharacter, getCharactersId, getNextCharacterPage } from \"../../component/api/rick-and-morty\";\nimport UserScreen from \"../userScreen\";\nimport { stylesTheme } from \"../../styles\";\nimport { UserContext } from \"../../contexts/userContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MainScreen = function MainScreen(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    characters = _useState2[0],\n    setCharacters = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pageInfo = _useState4[0],\n    setPageInfo = _useState4[1];\n  var _useState5 = useState(' '),\n    _useState6 = _slicedToArray(_useState5, 2),\n    nameSearch = _useState6[0],\n    setNameSearch = _useState6[1];\n  var navigation = props.navigation;\n  var _useContext = useContext(UserContext),\n    theme = _useContext.theme;\n  useEffect(function () {\n    buscar();\n  }, [props.route.params]);\n  var componentStyle = theme ? stylesTheme[theme] : null;\n  if (!componentStyle) {\n    return null;\n  }\n  function buscar() {\n    return _buscar.apply(this, arguments);\n  }\n  function _buscar() {\n    _buscar = _asyncToGenerator(function* () {\n      var c = props.route.params ? props.route.params.characters : undefined;\n      if (c) {\n        var ch = c.map(function (ch) {\n          return ch.split('/').pop();\n        });\n        var u = yield getCharactersId(ch);\n        console.log(u);\n        setCharacters(Array.isArray(u.data) ? u.data : [u.data]);\n      }\n    });\n    return _buscar.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: componentStyle.theme.mainView,\n    children: [_jsx(UserScreen, {}), _jsx(TextInput, {\n      style: [styles.textInput, styles.marginVertical],\n      onChangeText: setNameSearch,\n      value: nameSearch\n    }), _jsx(Button, {\n      title: \"Load Characters\",\n      color: componentStyle.buttonColor,\n      onPress: _asyncToGenerator(function* () {\n        try {\n          var chars = yield getCharacter({\n            name: nameSearch\n          });\n          setPageInfo(chars.data.info);\n          setCharacters(chars.data.results);\n        } catch (error) {\n          setPageInfo({});\n          setCharacters([]);\n        }\n      })\n    }), _jsx(FlatList, {\n      style: styles.marginVertical,\n      data: characters,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(element) {\n        var character = element.item;\n        return _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            navigation.navigate('CharDetail', {\n              id: character.id\n            });\n          },\n          children: _jsxs(View, {\n            style: styles.characterContainer,\n            children: [_jsx(Image, {\n              style: styles.characterImage,\n              source: {\n                uri: character.image\n              }\n            }), _jsxs(View, {\n              children: [_jsx(Text, {\n                children: character.name\n              }), _jsx(Text, {\n                children: character.status\n              })]\n            })]\n          })\n        });\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  mainView: {\n    justifyContent: 'center',\n    padding: 10,\n    backgroundColor: 'white'\n  },\n  characterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  characterImage: {\n    width: 90,\n    height: 90,\n    marginRight: 10\n  },\n  textInput: {\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    height: 35,\n    padding: 5\n  },\n  marginVertical: {\n    marginVertical: 5\n  }\n});\nexport default MainScreen;","map":{"version":3,"names":["React","useContext","useEffect","useState","StyleSheet","Button","View","Image","Text","FlatList","TextInput","TouchableOpacity","getCharacter","getCharactersId","getNextCharacterPage","UserScreen","stylesTheme","UserContext","jsx","_jsx","jsxs","_jsxs","MainScreen","props","_useState","_useState2","_slicedToArray","characters","setCharacters","_useState3","_useState4","pageInfo","setPageInfo","_useState5","_useState6","nameSearch","setNameSearch","navigation","_useContext","theme","buscar","route","params","componentStyle","_buscar","apply","arguments","_asyncToGenerator","c","undefined","ch","map","split","pop","u","console","log","Array","isArray","data","style","mainView","children","styles","textInput","marginVertical","onChangeText","value","title","color","buttonColor","onPress","chars","name","info","results","error","keyExtractor","item","id","renderItem","element","character","navigate","characterContainer","characterImage","source","uri","image","status","create","justifyContent","padding","backgroundColor","flexDirection","alignItems","width","height","marginRight","borderWidth","borderColor"],"sources":["C:/Users/Meu Computador/Desktop/00-atv5 - cÃ³pia/src/screens/main-screen/index.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { StyleSheet, Button, View, Image, Text, FlatList, TextInput, TouchableOpacity} from 'react-native'\nimport { getCharacter, getCharactersId, getNextCharacterPage } from '../../component/api/rick-and-morty'\nimport UserScreen from '../userScreen'\nimport { stylesTheme } from '../../styles'\nimport { UserContext } from '../../contexts/userContext'\n\nconst MainScreen = (props) => {\n  const [characters, setCharacters] = useState([])\n  const [pageInfo, setPageInfo] = useState({})\n  const [nameSearch, setNameSearch] = useState(' ')\n  const navigation = props.navigation\n  const { theme } = useContext(UserContext)\n  useEffect(() => {\n    buscar()\n  }, [props.route.params]);\n\n  const componentStyle = theme ? stylesTheme[theme] : null;\n\n  if (!componentStyle) {\n    return null; \n  }\n\n  async function buscar() {\n    const c = props.route.params ? props.route.params.characters : undefined;\n    if (c){\n      const ch = c.map(ch => ch.split('/').pop())\n      const u = await getCharactersId(ch);\n      console.log(u)\n      setCharacters(Array.isArray(u.data) ? u.data : [u.data])\n    }      \n  }\n\n  return (\n    <View style={componentStyle.theme.mainView}>\n      <UserScreen />\n      <TextInput\n        style={[styles.textInput, styles.marginVertical]}\n        onChangeText={setNameSearch}\n        value={nameSearch}\n      />\n      <Button\n        title=\"Load Characters\"\n        color={componentStyle.buttonColor}\n        onPress={async () => {\n          try {\n            const chars = await getCharacter({\n              name: nameSearch\n            })\n\n            setPageInfo(chars.data.info)\n            setCharacters(chars.data.results)\n          } catch (error) {\n            setPageInfo({})\n            setCharacters([])\n          }\n        }}\n      />\n      \n        \n      <FlatList\n        style={styles.marginVertical}\n        data={characters}\n        keyExtractor={(item) => item.id}\n        renderItem={(element) => {\n          const character = element.item\n\n          return (\n            <TouchableOpacity\n            onPress={() => {\n              navigation.navigate('CharDetail', {id:character.id})\n            }}>\n\n            <View style={styles.characterContainer}>\n              <Image style={styles.characterImage} source={{ uri: character.image }} />\n              <View >\n                <Text>{character.name}</Text>\n                <Text>{character.status}</Text>\n              </View>\n            </View>\n            </TouchableOpacity>\n          )\n          \n        }}\n      /> \n\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  mainView: {\n    justifyContent: 'center',\n    padding: 10,\n    backgroundColor: 'white'\n  },\n  characterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  characterImage: {\n    width: 90,\n    height: 90,\n    marginRight: 10\n  },\n  textInput: {\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    height: 35,\n    padding: 5\n  },\n  marginVertical: {\n    marginVertical: 5\n  }\n})\n\nexport default MainScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}