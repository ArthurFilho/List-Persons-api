{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { createContext } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var UserContext = createContext({\n  setUser: null\n});\nexport var UserProvider = function UserProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState('light'),\n    _useState2 = _slicedToArray(_useState, 2),\n    theme = _useState2[0],\n    setThemeStyle = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    character = _useState4[0],\n    setCharacter = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    favorite = _useState6[0],\n    setFavorite = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    active = _useState8[0],\n    setActive = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    characters = _useState10[0],\n    setCharacters = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    person = _useState12[0],\n    setPerson = _useState12[1];\n  function PersoLoad() {\n    return _PersoLoad.apply(this, arguments);\n  }\n  function _PersoLoad() {\n    _PersoLoad = _asyncToGenerator(function* () {\n      axios.get(\"https://swapi.dev/api/people/\").then(function (response) {\n        var results = response.data.results;\n        setCharacters(results);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    });\n    return _PersoLoad.apply(this, arguments);\n  }\n  function CharacterLoad() {\n    return _CharacterLoad.apply(this, arguments);\n  }\n  function _CharacterLoad() {\n    _CharacterLoad = _asyncToGenerator(function* () {\n      axios.get(\"\" + character).then(function (response) {\n        var results = response.data;\n        setPerson(results);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    });\n    return _CharacterLoad.apply(this, arguments);\n  }\n  function ButtonChangeTheme() {\n    setThemeStyle(function (currentTheme) {\n      return currentTheme === 'light' ? 'dark' : 'light';\n    });\n  }\n  function HandleSearch(url) {\n    setCharacter(url);\n  }\n  function HandleFavorite(fav) {\n    var index = favorite.findIndex(function (item) {\n      return item.name === fav.name;\n    });\n    if (index === -1) {\n      setFavorite([].concat(_toConsumableArray(favorite), [fav]));\n      setActive(false);\n    } else {\n      var updatedFavorites = _toConsumableArray(favorite);\n      updatedFavorites.splice(index, 1);\n      setFavorite(updatedFavorites);\n      setActive(true);\n    }\n  }\n  useEffect(function () {\n    PersoLoad();\n    CharacterLoad;\n  }, []);\n  var userContextValue = {\n    character: character,\n    theme: theme,\n    ButtonChangeTheme: ButtonChangeTheme,\n    HandleSearch: HandleSearch,\n    favorite: favorite,\n    HandleFavorite: HandleFavorite,\n    active: active,\n    characters: characters\n  };\n  return _jsx(UserContext.Provider, {\n    value: userContextValue,\n    children: children\n  });\n};","map":{"version":3,"names":["axios","useEffect","useState","createContext","jsx","_jsx","UserContext","setUser","UserProvider","_ref","children","_useState","_useState2","_slicedToArray","theme","setThemeStyle","_useState3","_useState4","character","setCharacter","_useState5","_useState6","favorite","setFavorite","_useState7","_useState8","active","setActive","_useState9","_useState10","characters","setCharacters","_useState11","_useState12","person","setPerson","PersoLoad","_PersoLoad","apply","arguments","_asyncToGenerator","get","then","response","results","data","catch","error","console","CharacterLoad","_CharacterLoad","ButtonChangeTheme","currentTheme","HandleSearch","url","HandleFavorite","fav","index","findIndex","item","name","concat","_toConsumableArray","updatedFavorites","splice","userContextValue","Provider","value"],"sources":["C:/Users/Meu Computador/Documents/programação/activity/src/contexts/userContext.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { createContext } from \"react\";\n\nexport const UserContext = createContext({setUser: null})\n\nexport const UserProvider = ({ children }) => {\n\n  const [theme, setThemeStyle] = useState('light')\n  const [character, setCharacter] = useState();\n  const [favorite, setFavorite] = useState([]);\n  const [active, setActive] = useState(true);\n  const [characters, setCharacters] = useState([])\n  const [person, setPerson] = useState({})\n\n  async function PersoLoad() {\n    axios.get(`https://swapi.dev/api/people/`)\n    .then((response) => {\n      const results = response.data.results;\n      setCharacters(results);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n}\n\nasync function CharacterLoad() {\n  axios.get(`${character}`)\n  .then((response) => {\n    const results = response.data;\n    setPerson(results);\n    })\n    .catch((error) => {\n      console.error(error);\n    });\n}\n\n  function ButtonChangeTheme () {\n        setThemeStyle((currentTheme) => currentTheme === 'light' ? 'dark' : 'light')\n  }\n\n  function HandleSearch (url) {\n    setCharacter(url)\n  }\n\n  function HandleFavorite(fav) {\n    const index = favorite.findIndex((item) => item.name === fav.name);\n\n  if (index === -1) {\n    setFavorite([...favorite, fav]);\n    setActive(false)\n  } else {\n    const updatedFavorites = [...favorite];\n    updatedFavorites.splice(index, 1);\n    setFavorite(updatedFavorites);\n    setActive(true)\n  }\n  }  \n\n  useEffect(() => {\n    PersoLoad()\n    CharacterLoad\n  },[])\n  \n  const userContextValue = {\n    character,\n    theme,\n    ButtonChangeTheme,\n    HandleSearch,\n    favorite,\n    HandleFavorite,\n    active,\n    characters,\n  };\n\n  return (\n    <UserContext.Provider  value={userContextValue}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}