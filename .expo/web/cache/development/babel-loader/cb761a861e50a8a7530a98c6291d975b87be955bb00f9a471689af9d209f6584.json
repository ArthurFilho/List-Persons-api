{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { getCharacter, getNextCharacterPage } from \"../../component/api/rick-and-morty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MainCharsScreen = function MainCharsScreen(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    characters = _useState2[0],\n    setCharacters = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pageInfo = _useState4[0],\n    setPageInfo = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    nameSearch = _useState6[0],\n    setNameSearch = _useState6[1];\n  return _jsxs(View, {\n    style: styles.mainView,\n    children: [_jsx(TextInput, {\n      style: [styles.textInput, styles.marginVertical],\n      onChangeText: setNameSearch,\n      value: nameSearch\n    }), _jsx(Button, {\n      title: \"Load Characters\",\n      onPress: _asyncToGenerator(function* () {\n        try {\n          var chars = yield getCharacter({\n            name: nameSearch\n          });\n          setPageInfo(chars.data.info);\n          setCharacters(chars.data.results);\n        } catch (error) {\n          setPageInfo({});\n          setCharacters([]);\n        }\n      })\n    }), _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        console.log('touchable opacity pressed');\n        navigation.navigate('CharDetailScreen');\n      },\n      children: [_jsx(FlatList, {\n        style: styles.marginVertical,\n        data: characters,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        renderItem: function renderItem(element) {\n          var character = element.item;\n          return _jsxs(View, {\n            style: styles.characterContainer,\n            children: [_jsx(Image, {\n              style: styles.characterImage,\n              source: {\n                uri: character.image\n              }\n            }), _jsxs(View, {\n              children: [_jsx(Text, {\n                children: character.name\n              }), _jsx(Text, {\n                children: character.status\n              })]\n            })]\n          });\n        }\n      }), \" \"]\n    }), _jsx(Button, {\n      title: \"Load More...\",\n      disabled: !pageInfo.next,\n      onPress: _asyncToGenerator(function* () {\n        var chars = yield getNextCharacterPage(pageInfo.next);\n        setPageInfo(chars.data.info);\n        setCharacters([].concat(_toConsumableArray(characters), _toConsumableArray(chars.data.results)));\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  mainView: {\n    justifyContent: 'center',\n    padding: 10,\n    backgroundColor: 'white'\n  },\n  characterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  characterImage: {\n    width: 90,\n    height: 90,\n    marginRight: 10\n  },\n  textInput: {\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    height: 35,\n    padding: 5\n  },\n  marginVertical: {\n    marginVertical: 5\n  }\n});\nexport default MainCharsScreen;","map":{"version":3,"names":["React","useState","StyleSheet","Button","View","Image","Text","FlatList","TextInput","getCharacter","getNextCharacterPage","jsx","_jsx","jsxs","_jsxs","MainCharsScreen","props","_useState","_useState2","_slicedToArray","characters","setCharacters","_useState3","_useState4","pageInfo","setPageInfo","_useState5","_useState6","nameSearch","setNameSearch","style","styles","mainView","children","textInput","marginVertical","onChangeText","value","title","onPress","_asyncToGenerator","chars","name","data","info","results","error","TouchableOpacity","console","log","navigation","navigate","keyExtractor","item","id","renderItem","element","character","characterContainer","characterImage","source","uri","image","status","disabled","next","concat","_toConsumableArray","create","justifyContent","padding","backgroundColor","flexDirection","alignItems","width","height","marginRight","borderWidth","borderColor"],"sources":["/Users/amandacastilho/Desktop/react-native-web-lessons-main 2/00-atv4/src/screens/main-chars/index.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { StyleSheet, Button, View, Image, Text, FlatList, TextInput } from 'react-native'\nimport { getCharacter, getNextCharacterPage } from '../../component/api/rick-and-morty'\n\nconst MainCharsScreen = (props) => {\n  const [characters, setCharacters] = useState([])\n  const [pageInfo, setPageInfo] = useState({})\n  const [nameSearch, setNameSearch] = useState('')\n\n  return (\n    <View style={styles.mainView}>\n      <TextInput\n        style={[styles.textInput, styles.marginVertical]}\n        onChangeText={setNameSearch}\n        value={nameSearch}\n      />\n      <Button\n        title=\"Load Characters\"\n        onPress={async () => {\n          try {\n            const chars = await getCharacter({\n              name: nameSearch\n            })\n\n            setPageInfo(chars.data.info)\n            setCharacters(chars.data.results)\n          } catch (error) {\n            setPageInfo({})\n            setCharacters([])\n          }\n        }}\n      />\n      <TouchableOpacity\n        onPress={() => {\n          console.log('touchable opacity pressed')\n          navigation.navigate('CharDetailScreen')\n        }}>\n        \n      <FlatList\n        style={styles.marginVertical}\n        data={characters}\n        keyExtractor={(item) => item.id}\n        renderItem={(element) => {\n          const character = element.item\n\n          return (\n            <View style={styles.characterContainer}>\n              <Image style={styles.characterImage} source={{ uri: character.image }} />\n              <View >\n                <Text>{character.name}</Text>\n                <Text>{character.status}</Text>\n              </View>\n            </View>\n          )\n        }}\n      /> </TouchableOpacity>\n\n      <Button\n        title=\"Load More...\"\n        disabled={!pageInfo.next}\n        onPress={async () => {\n          const chars = await getNextCharacterPage(pageInfo.next)\n\n          setPageInfo(chars.data.info)\n          setCharacters([...characters, ...chars.data.results])\n        }}\n      />\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  mainView: {\n    justifyContent: 'center',\n    padding: 10,\n    backgroundColor: 'white'\n  },\n  characterContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  characterImage: {\n    width: 90,\n    height: 90,\n    marginRight: 10\n  },\n  textInput: {\n    borderWidth: 1,\n    borderColor: '#CCCCCC',\n    height: 35,\n    padding: 5\n  },\n  marginVertical: {\n    marginVertical: 5\n  }\n})\n\nexport default MainCharsScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}